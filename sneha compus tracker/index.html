<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Campus Tracker</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    /* Reset and Base Styles */
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    :root {
      --primary-color: #fabc11;
      --primary-dark: #ff0000;
      --text-primary: #ff0b0b;
      --text-secondary: #0a0a0b;
      --bg-primary: #ffffff;
      --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
      --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      color: var(--text-primary);
      line-height: 1.6;
      overflow-x: hidden;
    }

    .container {
      max-width: 1300px;
      margin: 0 auto;
      padding: 0 20px;
    }

    /* Header */
    .header {
      background: var(--bg-primary);
      box-shadow: var(--shadow-sm);
      position: sticky;
      top: 0;
      z-index: 1000;
    }

    .nav {
      padding: 1rem 0;
    }

    .nav-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      display: flex;
      align-items: center;
      gap: 12px;
      font-size: 1.25rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .logo svg {
      width: 35px;
      height: 35px;
    }

    .logo-text {
      background: linear-gradient(135deg, var(--primary-color), #37afff);
      -webkit-background-clip: text;
      -webkit-text-fill-color: transparent;
      background-clip: text;
    }

    .nav-links {
      display: flex;
      list-style: none;
      gap: 2rem;
      align-items: center;
    }

    .nav-links a {
      text-decoration: none;
      color: var(--text-secondary);
      font-weight: 400;
      transition: color 0.3s;
      position: relative;
    }

    .nav-links a:hover {
      color: var(--primary-color);
    }

    .nav-links a.active {
      color: var(--primary-color);
    }

    .nav-links a.active::after {
      content: '';
      position: absolute;
      bottom: -8px;
      left: 0;
      right: 0;
      height: 2px;
      background: var(--primary-color);
    }

    .btn-report {
      background: var(--primary-color);
      color: white !important;
      padding: 0.5rem 1.5rem;
      border-radius: 8px;
      transition: all 0.3s;
    }

    .btn-report:hover {
      background: var(--primary-dark);
      transform: translateY(-2px);
      box-shadow: var(--shadow-md);
    }

    .mobile-menu-btn {
      display: none;
      flex-direction: column;
      gap: 4px;
      background: none;
      border: none;
      cursor: pointer;
      padding: 8px;
    }

    .mobile-menu-btn span {
      width: 24px;
      height: 2px;
      background: var(--text-primary);
      transition: all 0.3s;
    }

    /* Hero Section with Background Image */
    .hero {
      position: relative;
      height: 100vh;
      width: 100%;
      background: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), 
                  url('https://images.unsplash.com/photo-1541339907198-e08756dedf3f?w=1920&q=80') no-repeat center center;
      background-size: cover;
      background-position: center;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #fff;
    }

    .hero-overlay {
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.4);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .hero-content {
      position: relative;
      text-align: center;
      max-width: 800px;
      padding: 2rem;
      z-index: 1;
    }

    .hero-content h1 {
      font-size: 3.5rem;
      font-weight: 700;
      margin-bottom: 1.5rem;
      color: #ffffff;
      text-shadow: 2px 2px 4px rgba(0, 0, 0, 0.3);
      line-height: 1.2;
    }

    .hero-content p {
      font-size: 1.25rem;
      line-height: 1.6;
      margin-bottom: 2.5rem;
      color: #f1f1f1;
      text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.3);
    }

    .hero-buttons {
      display: flex;
      gap: 1rem;
      justify-content: center;
      flex-wrap: wrap;
    }

    .hero-buttons button {
      padding: 0.9rem 2rem;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      font-weight: 600;
      font-size: 1rem;
      transition: all 0.3s;
      font-family: inherit;
    }

    .btn-primary {
      background-color: #2195d7;
      color: #fff;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .btn-secondary {
      background-color: rgba(255, 255, 255, 0.2);
      color: #fff;
      border: 2px solid white;
      backdrop-filter: blur(10px);
    }

    .btn-primary:hover {
      background-color: #1a7ab8;
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
    }

    .btn-secondary:hover {
      background-color: rgba(255, 255, 255, 0.3);
      transform: translateY(-2px);
    }

    /* Other Sections */
    section {
      padding: 4rem 0;
    }

    section h2 {
      font-size: 2.5rem;
      margin-bottom: 1rem;
      color: var(--text-primary);
      text-align: center;
    }

    section p {
      text-align: center;
      color: var(--text-secondary);
      margin-bottom: 2rem;
    }

    /* Messages Section */
    .messages-section {
      padding: 4rem 0;
      min-height: 80vh;
    }

    .section-header-custom {
      text-align: center;
      margin-bottom: 3rem;
    }

    .section-header-custom h2 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .messages-container {
      display: grid;
      grid-template-columns: 350px 1fr;
      gap: 2rem;
      max-width: 1400px;
      margin: 0 auto;
      background: white;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0,0,0,0.08);
      height: 700px;
    }

    .messages-sidebar {
      border-right: 2px solid #e5e7eb;
      background: #f9fafb;
    }

    .messages-header {
      padding: 1.5rem;
      border-bottom: 2px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
      align-items: center;
      background: white;
    }

    .messages-header h3 {
      font-size: 1.5rem;
      font-weight: 700;
    }

    .btn-new-message {
      background: var(--primary-color);
      color: white;
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      cursor: pointer;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .messages-list {
      flex: 1;
      overflow-y: auto;
    }

    .message-item {
      padding: 1.25rem 1.5rem;
      border-bottom: 1px solid #e5e7eb;
      cursor: pointer;
      background: white;
      display: flex;
      gap: 1rem;
    }

    .message-item:hover {
      background: #f3f4f6;
    }

    .message-avatar {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      background: linear-gradient(135deg, var(--primary-color), var(--primary-dark));
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-weight: 700;
      font-size: 1.2rem;
    }

    .message-preview {
      flex: 1;
    }

    .message-preview-name {
      font-weight: 600;
      color: var(--text-primary);
    }

    .message-preview-text {
      font-size: 0.875rem;
      color: var(--text-secondary);
    }

    .no-messages {
      padding: 3rem 1.5rem;
      text-align: center;
      color: var(--text-secondary);
    }

    .messages-chat {
      display: flex;
      flex-direction: column;
    }

    .no-chat-selected {
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      height: 100%;
      color: var(--text-secondary);
    }

    .no-chat-selected h3 {
      font-size: 1.5rem;
      margin-top: 1rem;
    }

    .chat-header {
      padding: 1.5rem;
      border-bottom: 2px solid #e5e7eb;
      display: flex;
      justify-content: space-between;
    }

    .chat-header-info {
      display: flex;
      gap: 1rem;
    }

    .chat-messages {
      flex: 1;
      overflow-y: auto;
      padding: 1.5rem;
      background: #f9fafb;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .chat-message {
      display: flex;
      gap: 0.75rem;
      max-width: 70%;
    }

    .chat-message.sent {
      align-self: flex-end;
      flex-direction: row-reverse;
    }

    .chat-message-bubble {
      background: white;
      padding: 0.75rem 1rem;
      border-radius: 12px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.05);
    }

    .chat-message.sent .chat-message-bubble {
      background: var(--primary-color);
      color: white;
    }

    .chat-input-area {
      padding: 1.5rem;
      border-top: 2px solid #e5e7eb;
    }

    .chat-input-container {
      display: flex;
      gap: 0.75rem;
    }

    .chat-input {
      flex: 1;
      padding: 0.85rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 12px;
      font-family: inherit;
    }

    .btn-send-message {
      background: var(--primary-color);
      color: white;
      border: none;
      padding: 0.85rem 1.5rem;
      border-radius: 12px;
      font-weight: 600;
      cursor: pointer;
    }

    .privacy-notice {
      background: #fef3c7;
      border: 2px solid #fbbf24;
      border-radius: 12px;
      padding: 1rem;
      margin-bottom: 1rem;
      font-size: 0.875rem;
      color: #92400e;
    }


    /* Modal Overlay */
    .modal-overlay {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
      z-index: 2000;
      align-items: center;
      justify-content: center;
      overflow-y: auto;
      padding: 2rem;
    }

    .modal-overlay.active {
      display: flex;
    }

    .modal-box {
      background: white;
      border-radius: 20px;
      width: 100%;
      max-width: 500px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      position: relative;
      animation: modalSlideUp 0.3s ease-out;
    }

    .modal-box-large {
      max-width: 600px;
    }

    @keyframes modalSlideUp {
      from {
        opacity: 0;
        transform: translateY(30px);
      }
      to {
        opacity: 1;
        transform: translateY(0);
      }
    }

    .modal-close-btn {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: #f3f4f6;
      border: none;
      width: 36px;
      height: 36px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      color: #6b7280;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
      z-index: 10;
    }

    .modal-close-btn:hover {
      background: #e5e7eb;
      color: #374151;
      transform: rotate(90deg);
    }

    .modal-header-section {
      background: linear-gradient(135deg, #2195d7 0%, #1a7ab8 100%);
      padding: 2.5rem 2rem;
      color: white;
      border-radius: 20px 20px 0 0;
    }

    .modal-header-section h2 {
      font-size: 1.8rem;
      font-weight: 700;
      margin-bottom: 0.5rem;
      color: white;
      text-align: left;
    }

    .modal-header-section p {
      font-size: 0.95rem;
      opacity: 0.95;
      color: white;
      text-align: left;
      margin: 0;
    }

    .modal-form {
      padding: 2rem;
    }

    .modal-form-group {
      margin-bottom: 1.5rem;
    }

    .modal-form-group label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #1f2937;
      font-size: 0.95rem;
    }

    .modal-form-group input,
    .modal-form-group select,
    .modal-form-group textarea {
      width: 100%;
      padding: 0.85rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.3s;
      background: white;
      color: #374151;
    }

    .modal-form-group input:focus,
    .modal-form-group select:focus,
    .modal-form-group textarea:focus {
      outline: none;
      border-color: #2195d7;
      box-shadow: 0 0 0 3px rgba(33, 149, 215, 0.1);
    }

    .modal-form-group textarea {
      resize: vertical;
      min-height: 80px;
    }

    .modal-form-group select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1rem center;
      background-size: 20px;
      padding-right: 3rem;
      cursor: pointer;
    }

    .modal-btn-submit {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(135deg, #2195d7 0%, #1a7ab8 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      font-size: 1.05rem;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 0.5rem;
    }

    .modal-btn-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(33, 149, 215, 0.3);
    }

    .modal-link {
      display: block;
      text-align: center;
      color: #2195d7;
      text-decoration: none;
      margin-top: 1rem;
      font-size: 0.95rem;
      font-weight: 500;
    }

    .modal-link:hover {
      text-decoration: underline;
    }

    /* Modal Image Upload */
    .modal-image-upload {
      border: 2px dashed #d1d5db;
      border-radius: 10px;
      padding: 1.5rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      background: #f9fafb;
    }

    .modal-image-upload:hover {
      border-color: #2195d7;
      background: #eff6ff;
    }

    .modal-image-upload svg {
      margin: 0 auto 0.75rem;
      color: #9ca3af;
    }

    .modal-image-upload p {
      color: #374151;
      font-weight: 500;
      margin-bottom: 0.25rem;
      font-size: 0.95rem;
    }

    .modal-image-upload span {
      display: block;
      font-size: 0.85rem;
      color: #9ca3af;
    }

    .modal-image-preview {
      margin-top: 1rem;
      display: none;
    }

    .modal-image-preview.active {
      display: block;
    }

    .modal-image-preview img {
      max-width: 100%;
      height: auto;
      border-radius: 10px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    /* Page Form Styles */
    .section-header-custom {
      text-align: center;
      margin-bottom: 3rem;
      padding-top: 2rem;
    }

    .section-header-custom h2 {
      font-size: 2.5rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
    }

    .section-header-custom p {
      font-size: 1.1rem;
      color: var(--text-secondary);
    }

    .form-container-page {
      max-width: 900px;
      margin: 0 auto 4rem;
      background: white;
      padding: 3rem;
      border-radius: 20px;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
    }

    .page-form {
      width: 100%;
    }

    .form-row-page {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin-bottom: 1.5rem;
    }

    .form-group-page {
      margin-bottom: 1.5rem;
    }

    .form-group-page label {
      display: block;
      margin-bottom: 0.5rem;
      font-weight: 600;
      color: #1f2937;
      font-size: 0.95rem;
    }

    .required {
      color: #ef4444;
    }

    .form-group-page input,
    .form-group-page select,
    .form-group-page textarea {
      width: 100%;
      padding: 0.85rem 1rem;
      border: 2px solid #e5e7eb;
      border-radius: 10px;
      font-size: 1rem;
      font-family: inherit;
      transition: all 0.3s;
      background: white;
      color: #374151;
    }

    .form-group-page input:focus,
    .form-group-page select:focus,
    .form-group-page textarea:focus {
      outline: none;
      border-color: #2195d7;
      box-shadow: 0 0 0 3px rgba(33, 149, 215, 0.1);
    }

    .form-group-page textarea {
      resize: vertical;
      min-height: 100px;
    }

    .form-group-page select {
      appearance: none;
      background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' viewBox='0 0 24 24' fill='none' stroke='%236b7280' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'%3E%3Cpolyline points='6 9 12 15 18 9'%3E%3C/polyline%3E%3C/svg%3E");
      background-repeat: no-repeat;
      background-position: right 1rem center;
      background-size: 20px;
      padding-right: 3rem;
      cursor: pointer;
    }

    .upload-box {
      border: 2px dashed #d1d5db;
      border-radius: 12px;
      padding: 2rem;
      text-align: center;
      cursor: pointer;
      transition: all 0.3s;
      background: #f9fafb;
    }

    .upload-box:hover {
      border-color: #2195d7;
      background: #eff6ff;
    }

    .upload-box svg {
      margin: 0 auto 1rem;
      color: #9ca3af;
    }

    .upload-box p {
      color: #374151;
      font-weight: 500;
      margin-bottom: 0.5rem;
      font-size: 1rem;
    }

    .upload-box span {
      display: block;
      font-size: 0.875rem;
      color: #9ca3af;
    }

    .page-image-preview {
      margin-top: 1rem;
      display: none;
    }

    .page-image-preview.active {
      display: block;
    }

    .page-image-preview img {
      max-width: 100%;
      max-height: 300px;
      border-radius: 12px;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
    }

    .btn-page-submit {
      width: 100%;
      padding: 1.1rem;
      background: linear-gradient(135deg, #2195d7 0%, #1a7ab8 100%);
      color: white;
      border: none;
      border-radius: 12px;
      font-weight: 600;
      font-size: 1.1rem;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 1rem;
    }

    .btn-page-submit:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(33, 149, 215, 0.3);
    }

    /* Items Display Section */
    .items-display-section {
      margin-top: 4rem;
    }

    .items-display-section h3 {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 2rem;
      text-align: center;
    }

    .no-items-text {
      text-align: center;
      color: var(--text-secondary);
      font-size: 1.1rem;
      padding: 3rem;
      background: #f9fafb;
      border-radius: 12px;
    }

    /* Match Results */
    .match-results-section {
      margin-top: 4rem;
    }

    .match-results-section h3 {
      font-size: 1.8rem;
      font-weight: 700;
      color: var(--text-primary);
      margin-bottom: 2rem;
      text-align: center;
    }

    .match-results-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 2rem;
    }

    .match-card {
      background: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border: 2px solid #e5e7eb;
      transition: all 0.3s;
    }

    .match-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
    }

    .match-percentage {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
      padding: 1rem;
      text-align: center;
      font-size: 1.5rem;
      font-weight: 700;
    }

    .match-content {
      padding: 1.5rem;
    }

    .match-image {
      width: 100%;
      height: 200px;
      object-fit: cover;
      background: #f3f4f6;
    }

    .match-title {
      font-size: 1.2rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
    }

    .match-description {
      color: var(--text-secondary);
      font-size: 0.95rem;
      margin-bottom: 1rem;
    }

    .match-details {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
      margin-top: 1rem;
      padding-top: 1rem;
      border-top: 1px solid #e5e7eb;
    }

    .match-detail-item {
      font-size: 0.9rem;
      color: var(--text-secondary);
    }

    .match-detail-item strong {
      color: var(--text-primary);
    }

    /* Item Card Styles */
    .item-card {
      background: white;
      border-radius: 16px;
      overflow: hidden;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
      border: 2px solid #e5e7eb;
      transition: all 0.3s;
      cursor: pointer;
    }

    .item-card:hover {
      transform: translateY(-4px);
      box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
      border-color: #2195d7;
    }

    .item-card-image {
      width: 100%;
      height: 220px;
      object-fit: cover;
      background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .item-card-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .item-card-placeholder {
      width: 100%;
      height: 220px;
      background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
      display: flex;
      align-items: center;
      justify-content: center;
      color: #9ca3af;
      font-size: 4rem;
    }

    .item-card-content {
      padding: 1.5rem;
    }

    .item-card-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 1rem;
    }

    .item-card-title {
      font-size: 1.25rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.5rem;
    }

    .item-card-badge {
      padding: 0.35rem 0.85rem;
      border-radius: 20px;
      font-size: 0.75rem;
      font-weight: 600;
      text-transform: uppercase;
      letter-spacing: 0.5px;
    }

    .badge-lost {
      background: #fee2e2;
      color: #dc2626;
    }

    .badge-found {
      background: #d1fae5;
      color: #059669;
    }

    .item-card-category {
      font-size: 0.875rem;
      color: var(--text-secondary);
      background: var(--bg-secondary);
      padding: 0.25rem 0.75rem;
      border-radius: 6px;
      display: inline-block;
      margin-bottom: 0.75rem;
    }

    .item-card-user {
      font-size: 0.875rem;
      color: var(--text-secondary);
      margin-bottom: 0.5rem;
    }

    .item-card-user strong {
      color: var(--text-primary);
    }

    .item-card-location {
      font-size: 0.875rem;
      color: var(--text-secondary);
      display: flex;
      align-items: center;
      gap: 0.5rem;
      margin-bottom: 0.5rem;
    }

    .item-card-date {
      font-size: 0.875rem;
      color: #9ca3af;
      margin-top: 0.75rem;
      padding-top: 0.75rem;
      border-top: 1px solid #e5e7eb;
    }

    /* Item Detail Modal */
    .item-detail-modal {
      display: none;
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0, 0, 0, 0.6);
      backdrop-filter: blur(5px);
      z-index: 3000;
      align-items: center;
      justify-content: center;
      overflow-y: auto;
      padding: 2rem;
    }

    .item-detail-modal.active {
      display: flex;
    }

    .item-detail-box {
      background: white;
      border-radius: 20px;
      width: 100%;
      max-width: 700px;
      max-height: 90vh;
      overflow-y: auto;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
      position: relative;
      animation: modalSlideUp 0.3s ease-out;
    }

    .item-detail-close {
      position: absolute;
      top: 1rem;
      right: 1rem;
      background: rgba(255, 255, 255, 0.9);
      border: none;
      width: 40px;
      height: 40px;
      border-radius: 50%;
      font-size: 1.5rem;
      cursor: pointer;
      color: #6b7280;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.3s;
      z-index: 10;
      box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
    }

    .item-detail-close:hover {
      background: white;
      color: #374151;
      transform: rotate(90deg);
    }

    .item-detail-image {
      width: 100%;
      height: 400px;
      object-fit: cover;
      background: linear-gradient(135deg, #f3f4f6, #e5e7eb);
    }

    .item-detail-image img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .item-detail-content {
      padding: 2.5rem;
    }

    .item-detail-header {
      display: flex;
      justify-content: space-between;
      align-items: start;
      margin-bottom: 1.5rem;
    }

    .item-detail-title {
      font-size: 2rem;
      font-weight: 700;
      color: var(--text-primary);
    }

    .item-detail-section {
      margin-bottom: 2rem;
    }

    .item-detail-section h3 {
      font-size: 1.1rem;
      font-weight: 600;
      color: var(--text-primary);
      margin-bottom: 0.75rem;
    }

    .item-detail-section p {
      color: var(--text-secondary);
      line-height: 1.6;
      font-size: 1rem;
    }

    .item-detail-info-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 1.5rem;
      margin-top: 1.5rem;
    }

    .item-detail-info-item {
      background: var(--bg-secondary);
      padding: 1rem;
      border-radius: 10px;
    }

    .item-detail-info-item label {
      font-size: 0.875rem;
      color: var(--text-secondary);
      display: block;
      margin-bottom: 0.25rem;
    }

    .item-detail-info-item strong {
      font-size: 1rem;
      color: var(--text-primary);
    }

    .item-detail-contact-btn {
      width: 100%;
      padding: 1rem;
      background: linear-gradient(135deg, #2195d7 0%, #1a7ab8 100%);
      color: white;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      font-size: 1.05rem;
      cursor: pointer;
      transition: all 0.3s;
      margin-top: 1.5rem;
    }

    .item-detail-contact-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 10px 25px rgba(33, 149, 215, 0.3);
    }

    /* Notification Toast Styles */
    .notification-toast {
      position: fixed;
      top: 100px;
      right: 30px;
      padding: 1.2rem 2rem;
      border-radius: 12px;
      font-size: 1rem;
      font-weight: 600;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
      z-index: 10000;
      display: flex;
      align-items: center;
      gap: 1rem;
      animation: slideInRight 0.4s ease-out;
      min-width: 300px;
    }

    .notification-toast.success {
      background: linear-gradient(135deg, #10b981 0%, #059669 100%);
      color: white;
    }

    .notification-toast.error {
      background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
      color: white;
    }

    .notification-toast.hide {
      animation: slideOutRight 0.4s ease-out forwards;
    }

    @keyframes slideInRight {
      from {
        transform: translateX(400px);
        opacity: 0;
      }
      to {
        transform: translateX(0);
        opacity: 1;
      }
    }

    @keyframes slideOutRight {
      from {
        transform: translateX(0);
        opacity: 1;
      }
      to {
        transform: translateX(400px);
        opacity: 0;
      }
    }

    .notification-icon {
      width: 24px;
      height: 24px;
      flex-shrink: 0;
    }

    .form {
      max-width: 500px;
      margin: 0 auto;
      display: flex;
      flex-direction: column;
      gap: 1rem;
    }

    .form input {
      padding: 0.75rem;
      border: 2px solid #E5E7EB;
      border-radius: 8px;
      font-size: 1rem;
      font-family: inherit;
    }

    .form button {
      padding: 0.75rem;
      background: var(--primary-color);
      color: white;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
    }

    .form button:hover {
      background: var(--primary-dark);
    }

    .items-grid {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
      gap: 2rem;
      margin-top: 2rem;
    }

    .notification-list {
      max-width: 600px;
      margin: 0 auto;
      list-style: none;
      padding: 1rem;
    }

    /* Close modal when clicking outside */
    .modal-overlay {
      cursor: pointer;
    }

    .modal-box {
      cursor: default;
    }

    .privacy-notice {
      background: #fef3c7;
      border: 2px solid #fbbf24;
      border-radius: 12px;
      padding: 1rem;
      margin-bottom: 1rem;
      font-size: 0.875rem;
      color: #92400e;
    }

    /* Admin Panel Dashboard Styles */
    .admin-section {
      background: linear-gradient(135deg, #e0c3fc 0%, #8ec5fc 100%);
      min-height: 100vh;
      padding: 4rem 0;
    }

    .admin-dashboard-container {
      background: rgba(255, 255, 255, 0.95);
      border-radius: 24px;
      padding: 2.5rem;
      box-shadow: 0 20px 60px rgba(0, 0, 0, 0.15);
      backdrop-filter: blur(10px);
    }

    .admin-dashboard-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 2rem;
    }

    .admin-dashboard-title h2 {
      font-size: 2rem;
      font-weight: 700;
      color: #1c4a8b;
      margin-bottom: 0.25rem;
    }

    .admin-dashboard-subtitle {
      color: #64748b;
      font-size: 1rem;
    }

    .admin-refresh-btn {
      background: #2195d7;
      color: white;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 12px;
      cursor: pointer;
      font-weight: 600;
      display: flex;
      align-items: center;
      gap: 0.5rem;
      transition: all 0.3s;
    }

    .admin-refresh-btn:hover {
      background: #1a7ab8;
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(33, 149, 215, 0.3);
    }

    .admin-stats {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
      gap: 1.5rem;
      margin-bottom: 2.5rem;
    }

    .admin-stat-card {
      background: linear-gradient(135deg, #fef3c7 0%, #fde68a 100%);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
      transition: all 0.3s;
      position: relative;
      overflow: hidden;
    }

    .admin-stat-card::before {
      content: '';
      position: absolute;
      top: 0;
      right: 0;
      width: 100px;
      height: 100px;
      background: rgba(255, 255, 255, 0.2);
      border-radius: 50%;
      transform: translate(30%, -30%);
    }

    .admin-stat-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 12px 32px rgba(0, 0, 0, 0.12);
    }

    .admin-stat-card:nth-child(2) {
      background: linear-gradient(135deg, #d1fae5 0%, #a7f3d0 100%);
    }

    .admin-stat-card:nth-child(3) {
      background: linear-gradient(135deg, #ddd6fe 0%, #c4b5fd 100%);
    }

    .admin-stat-card:nth-child(4) {
      background: linear-gradient(135deg, #fecaca 0%, #fca5a5 100%);
    }

    .admin-stat-header {
      display: flex;
      justify-content: space-between;
      align-items: flex-start;
      margin-bottom: 1rem;
    }

    .admin-stat-icon {
      font-size: 2rem;
      opacity: 0.9;
    }

    .admin-stat-trend {
      font-size: 0.875rem;
      padding: 0.25rem 0.75rem;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 20px;
      font-weight: 600;
    }

    .admin-stat-number {
      font-size: 2.5rem;
      font-weight: 800;
      color: #1e293b;
      margin-bottom: 0.25rem;
    }

    .admin-stat-label {
      font-size: 1rem;
      font-weight: 600;
      color: #475569;
      opacity: 0.9;
    }

    .admin-stat-description {
      font-size: 0.875rem;
      color: #64748b;
      margin-top: 0.5rem;
    }

    .admin-announcements {
      background: rgba(255, 255, 255, 0.9);
      border-radius: 20px;
      padding: 2rem;
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
      margin-bottom: 2rem;
    }

    .admin-announcements-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 1.5rem;
    }

    .admin-announcements-header h3 {
      font-size: 1.5rem;
      font-weight: 700;
      color: #1c4a8b;
    }

    .admin-last-update {
      font-size: 0.875rem;
      color: #64748b;
    }

    .admin-announcement-item {
      padding: 1.25rem;
      background: #f8fafc;
      border-radius: 12px;
      margin-bottom: 1rem;
      border-left: 4px solid #2195d7;
      transition: all 0.3s;
    }

    .admin-announcement-item:hover {
      background: #f1f5f9;
      transform: translateX(5px);
    }

    .admin-announcement-item:last-child {
      margin-bottom: 0;
    }

    .admin-announcement-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 0.5rem;
    }

    .admin-announcement-title {
      font-weight: 600;
      color: #1e293b;
      font-size: 1.05rem;
    }

    .admin-announcement-date {
      font-size: 0.875rem;
      color: #64748b;
    }

    .admin-announcement-text {
      color: #475569;
      font-size: 0.95rem;
      line-height: 1.6;
    }

    .admin-tabs {
      display: flex;
      gap: 1rem;
      margin-bottom: 2rem;
      border-bottom: 2px solid #e2e8f0;
      padding-bottom: 0;
    }

    .admin-tab {
      padding: 1rem 1.5rem;
      background: transparent;
      border: none;
      font-weight: 600;
      color: #64748b;
      cursor: pointer;
      position: relative;
      transition: all 0.3s;
      font-size: 1rem;
    }

    .admin-tab:hover {
      color: #2195d7;
    }

    .admin-tab.active {
      color: #2195d7;
    }

    .admin-tab.active::after {
      content: '';
      position: absolute;
      bottom: -2px;
      left: 0;
      right: 0;
      height: 3px;
      background: linear-gradient(90deg, #2195d7, #1a7ab8);
      border-radius: 3px 3px 0 0;
    }

    .admin-search {
      margin-bottom: 1.5rem;
    }

    .admin-search input {
      width: 100%;
      padding: 1rem 1.25rem;
      border: 2px solid #e2e8f0;
      border-radius: 12px;
      font-size: 1rem;
      transition: all 0.3s;
    }

    .admin-search input:focus {
      outline: none;
      border-color: #2195d7;
      box-shadow: 0 0 0 3px rgba(33, 149, 215, 0.1);
    }

    .admin-post-item {
      background: white;
      border-radius: 16px;
      padding: 1.5rem;
      margin-bottom: 1rem;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
      display: flex;
      gap: 1.5rem;
      align-items: center;
      transition: all 0.3s;
    }

    .admin-post-item:hover {
      box-shadow: 0 8px 24px rgba(0, 0, 0, 0.1);
      transform: translateY(-2px);
    }

    .admin-post-item.flagged {
      border: 2px solid #fbbf24;
      background: #fffbeb;
    }

    .admin-post-image {
      width: 60px;
      height: 60px;
      background: linear-gradient(135deg, #e0c3fc, #8ec5fc);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2rem;
      flex-shrink: 0;
    }

    .admin-post-details {
      flex: 1;
    }

    .admin-post-title {
      font-size: 1.1rem;
      font-weight: 700;
      color: #1e293b;
      margin-bottom: 0.25rem;
    }

    .admin-post-meta {
      font-size: 0.875rem;
      color: #64748b;
      margin-bottom: 0.5rem;
    }

    .admin-post-description {
      font-size: 0.95rem;
      color: #475569;
      line-height: 1.5;
    }

    .flag-badge {
      display: inline-block;
      background: #fef3c7;
      color: #92400e;
      padding: 0.25rem 0.75rem;
      border-radius: 20px;
      font-size: 0.875rem;
      font-weight: 600;
      margin-bottom: 0.5rem;
    }

    .admin-post-actions {
      display: flex;
      gap: 0.75rem;
      flex-shrink: 0;
    }

    .admin-btn {
      padding: 0.65rem 1.25rem;
      border: none;
      border-radius: 10px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s;
      font-size: 0.9rem;
      white-space: nowrap;
    }

    .admin-btn-approve {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
    }

    .admin-btn-approve:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    .admin-btn-edit {
      background: linear-gradient(135deg, #3b82f6, #2563eb);
      color: white;
    }

    .admin-btn-edit:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(59, 130, 246, 0.3);
    }

    .admin-btn-delete {
      background: linear-gradient(135deg, #ef4444, #dc2626);
      color: white;
    }

    .admin-btn-delete:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(239, 68, 68, 0.3);
    }

    .admin-btn-resolve {
      background: linear-gradient(135deg, #8b5cf6, #7c3aed);
      color: white;
    }

    .admin-btn-resolve:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(139, 92, 246, 0.3);
    }

    /* Footer */
    .footer {
      background: var(--text-primary);
      color: white;
      padding: 2rem 0;
      text-align: center;
      margin-top: 4rem;
    }

    /* Responsive Design */
    @media (max-width: 768px) {
      .nav-links {
        display: none;
      }

      .mobile-menu-btn {
        display: flex;
      }

      .hero-content h1 {
        font-size: 2.5rem;
      }

      .hero-content p {
        font-size: 1.1rem;
      }

      .hero-buttons {
        flex-direction: column;
      }

      .items-grid {
        grid-template-columns: 1fr;
      }
    }

    @media (max-width: 480px) {
      .hero-content h1 {
        font-size: 2rem;
      }

      .hero-content p {
        font-size: 1rem;
      }
    }

    @media (max-width: 768px) {
      .messages-container {
        grid-template-columns: 1fr;
        height: auto;
      }

      .messages-sidebar {
        max-height: 400px;
      }
    }
  </style>
</head>
<body>

  <!-- Header / Navbar -->
  <header class="header">
    <nav class="nav container">
      <div class="nav-content">
        <div class="logo">
          <svg width="35" height="35" viewBox="0 0 32 32" fill="none">
            <path d="M16 2L20 12H30L22 18L26 28L16 22L6 28L10 18L2 12H12L16 2Z" fill="#2195d7"/>
          </svg>
          <span class="logo-text">Campus Tracker</span>
        </div>

        <ul class="nav-links">
          <li><a href="#home" class="active">Home</a></li>
          <li><a href="#" onclick="openModal('loginModal')">Login</a></li>
          <li><a href="#" onclick="openModal('signupModal')">Signup</a></li>
          <li><a href="#" onclick="openModal('registrationModal')">Registration</a></li>
          <li><a href="#lost" onclick="scrollToSection('lost')">Lost Items</a></li>
          <li><a href="#found" onclick="scrollToSection('found')">Found Items</a></li>
          <li><a href="#match" onclick="scrollToSection('match')">Match Items</a></li>
          <li><a href="#messages" onclick="scrollToSection('messages')">Messages</a></li>
          <li><a href="#admin" onclick="scrollToSection('admin')">Admin Panel</a></li>
          <li><a href="#notifications" onclick="scrollToSection('notifications')">Notifications</a></li>
        </ul>

        <button class="mobile-menu-btn" id="mobileMenuBtn">
          <span></span><span></span><span></span>
        </button>
      </div>
    </nav>
  </header>

  <!-- Hero Section -->
  <section class="hero" id="home">
    <div class="hero-overlay">
      <div class="hero-content">
        <h1>Welcome to Campus Tracker</h1>
        <p>Fulfill your information and get future updates — if you lost or found something, you can report it easily.</p>
        <div class="hero-buttons">
          <button class="btn-primary" onclick="scrollToSection('lost')">Browse Lost Items</button>
          <button class="btn-secondary" onclick="scrollToSection('found')">Browse Found Items</button>
        </div>
      </div>
    </div>
  </section>

  <!-- Login Modal -->
  <div id="loginModal" class="modal-overlay">
    <div class="modal-box">
      <button class="modal-close-btn" onclick="closeModal('loginModal')">&times;</button>
      
      <div class="modal-header-section">
        <h2>LOG IN</h2>
        <p>Welcome back! Please login to your account.</p>
      </div>

      <form class="modal-form">
        <div class="modal-form-group">
          <label>Email Address</label>
          <input type="email" placeholder="jondoe32@gmail.com" required id="loginEmail">
        </div>
        
        <div class="modal-form-group">
          <label>Password</label>
          <input type="password" placeholder="••••••••••" required id="loginPassword">
        </div>

        <div class="modal-form-group">
          <label>User Type</label>
          <select required id="loginUserType">
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
            <option value="staff">Staff</option>
            <option value="worker">Worker</option>
          </select>
        </div>
        
        <button type="submit" class="modal-btn-submit" onclick="handleLogin(event)">Log In</button>
        <a href="#" class="modal-link">Forgot Password?</a>
      </form>
    </div>
  </div>

  <!-- Signup Modal -->
  <div id="signupModal" class="modal-overlay">
    <div class="modal-box">
      <button class="modal-close-btn" onclick="closeModal('signupModal')">&times;</button>
      
      <div class="modal-header-section">
        <h2>SIGN UP</h2>
        <p>Create your account to get started.</p>
      </div>

      <form class="modal-form">
        <div class="modal-form-group">
          <label>Full Name</label>
          <input type="text" placeholder="John Doe" required id="signupName">
        </div>
        
        <div class="modal-form-group">
          <label>Email Address</label>
          <input type="email" placeholder="jondoe32@gmail.com" required id="signupEmail">
        </div>
        
        <div class="modal-form-group">
          <label>Password</label>
          <input type="password" placeholder="••••••••••" required id="signupPassword" minlength="6">
        </div>
        
        <div class="modal-form-group">
          <label>User Type</label>
          <select required id="signupUserType">
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
            <option value="staff">Staff</option>
            <option value="worker">Worker</option>
          </select>
        </div>
        
        <button type="submit" class="modal-btn-submit" onclick="handleSignup(event)">Sign Up</button>
      </form>
    </div>
  </div>

  <!-- Registration Modal -->
  <div id="registrationModal" class="modal-overlay">
    <div class="modal-box">
      <button class="modal-close-btn" onclick="closeModal('registrationModal')">&times;</button>
      
      <div class="modal-header-section">
        <h2>REGISTRATION</h2>
        <p>Complete your campus registration.</p>
      </div>

      <form class="modal-form">
        <div class="modal-form-group">
          <label>Full Name</label>
          <input type="text" placeholder="John Doe" required id="regName">
        </div>
        
        <div class="modal-form-group">
          <label>Campus Email</label>
          <input type="email" placeholder="jondoe32@campus.edu" required id="regEmail">
        </div>
        
        <div class="modal-form-group">
          <label>Student/Employee ID</label>
          <input type="text" placeholder="ID123456" required id="regID">
        </div>

        <div class="modal-form-group">
          <label>User Type</label>
          <select required id="regUserType">
            <option value="student">Student</option>
            <option value="teacher">Teacher</option>
            <option value="staff">Staff</option>
            <option value="worker">Worker</option>
          </select>
        </div>
        
        <button type="submit" class="modal-btn-submit" onclick="handleRegistration(event)">Register</button>
      </form>
    </div>
  </div>

  <!-- Report Item Modal -->
  <div id="reportModal" class="modal-overlay">
    <div class="modal-box modal-box-large">
      <button class="modal-close-btn" onclick="closeModal('reportModal')">&times;</button>
      
      <div class="modal-header-section">
        <h2>REPORT ITEM</h2>
        <p>Help us reunite lost items with their owners.</p>
      </div>

      <form class="modal-form">
        <div class="modal-form-group">
          <label>Item Type</label>
          <select required id="reportItemType">
            <option value="">Select Type</option>
            <option value="lost">Lost</option>
            <option value="found">Found</option>
          </select>
        </div>

        <div class="modal-form-group">
          <label>Item Category</label>
          <select required id="reportCategory">
            <option value="">Select Category</option>
            <option value="electronics">Electronics</option>
            <option value="accessories">Accessories</option>
            <option value="documents">Documents</option>
            <option value="clothing">Clothing</option>
            <option value="books">Books & Stationery</option>
            <option value="keys">Keys</option>
            <option value="other">Other</option>
          </select>
        </div>
        
        <div class="modal-form-group">
          <label>Item Name</label>
          <input type="text" placeholder="e.g., Blue Backpack" required id="reportItemName">
        </div>
        
        <div class="modal-form-group">
          <label>Description</label>
          <textarea rows="3" placeholder="Provide detailed description..." required id="reportDescription"></textarea>
        </div>
        
        <div class="modal-form-group">
          <label>Location</label>
          <input type="text" placeholder="e.g., Library, Room 101" required id="reportLocation">
        </div>
        
        <div class="modal-form-group">
          <label>Contact Email</label>
          <input type="email" placeholder="your.email@example.com" required id="reportEmail">
        </div>

        <div class="modal-form-group">
          <label>Upload Image (Optional)</label>
          <div class="modal-image-upload" onclick="document.getElementById('modalItemImage').click()">
            <svg width="40" height="40" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
              <circle cx="8.5" cy="8.5" r="1.5"></circle>
              <polyline points="21 15 16 10 5 21"></polyline>
            </svg>
            <p>Click to upload image</p>
            <span>PNG, JPG up to 5MB</span>
          </div>
          <input type="file" id="modalItemImage" accept="image/*" style="display: none;" onchange="handleModalImageUpload(this)">
          <div id="modalImagePreview" class="modal-image-preview"></div>
        </div>
        
        <button type="submit" class="modal-btn-submit" onclick="handleReportSubmit(event)">Submit Report</button>
      </form>
    </div>
  </div>

  <!-- Lost Items Section -->
  <section class="items-section" id="lost">
    <div class="container">
      <div class="section-header-custom">
        <h2>Lost Items</h2>
        <p>Report an item you have lost on campus</p>
      </div>

      <div class="form-container-page">
        <form class="page-form" onsubmit="handleLostItemSubmit(event)">
          <div class="form-row-page">
            <div class="form-group-page">
              <label>User Type <span class="required">*</span></label>
              <select required>
                <option value="">Select User Type</option>
                <option value="student">Student</option>
                <option value="teacher">Teacher</option>
                <option value="staff">Staff</option>
                <option value="worker">Worker</option>
              </select>
            </div>

            <div class="form-group-page">
              <label>Your Name <span class="required">*</span></label>
              <input type="text" placeholder="Enter your full name" required>
            </div>
          </div>

          <div class="form-group-page">
            <label>Item Name <span class="required">*</span></label>
            <input type="text" placeholder="e.g., Blue Backpack, iPhone 13, Black Wallet" required>
          </div>

          <div class="form-group-page">
            <label>Item Category <span class="required">*</span></label>
            <select required>
              <option value="">Select Category</option>
              <option value="electronics">Electronics</option>
              <option value="accessories">Accessories</option>
              <option value="documents">Documents & ID Cards</option>
              <option value="clothing">Clothing & Bags</option>
              <option value="books">Books & Stationery</option>
              <option value="keys">Keys & Cards</option>
              <option value="jewelry">Jewelry & Watches</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group-page">
            <label>Description <span class="required">*</span></label>
            <textarea rows="4" placeholder="Provide detailed description (color, brand, size, unique features, etc.)" required></textarea>
          </div>

          <div class="form-row-page">
            <div class="form-group-page">
              <label>Location Where Lost <span class="required">*</span></label>
              <input type="text" placeholder="e.g., Library, Room 101, Cafeteria" required>
            </div>

            <div class="form-group-page">
              <label>Date Lost</label>
              <input type="date" max="2025-11-02">
            </div>
          </div>

          <div class="form-group-page">
            <label>Contact Email <span class="required">*</span></label>
            <input type="email" placeholder="your.email@example.com" required>
          </div>

          <div class="form-group-page">
            <label>Upload Item Image</label>
            <div class="upload-box" onclick="document.getElementById('lostItemImage').click()">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
              </svg>
              <p>Click to upload image of the lost item</p>
              <span>PNG, JPG, JPEG up to 5MB</span>
            </div>
            <input type="file" id="lostItemImage" accept="image/*" style="display: none;" onchange="handlePageImageUpload(this, 'lostImagePreview')">
            <div id="lostImagePreview" class="page-image-preview"></div>
          </div>

          <button type="submit" class="btn-page-submit">Submit Lost Item Report</button>
        </form>
      </div>

      <div class="items-display-section">
        <h3>Recently Reported Lost Items</h3>
        <div class="items-grid" id="lostItemsGrid">
          <p class="no-items-text">No lost items reported yet. Be the first to report!</p>
        </div>
      </div>
    </div>
  </section>
  <!-- Found Items Section -->
  <section class="items-section" id="found">
    <div class="container">
      <div class="section-header-custom">
        <h2>Found Items</h2>
        <p>Report an item you have found on campus</p>
      </div>

      <div class="form-container-page">
        <form class="page-form" onsubmit="handleFoundItemSubmit(event)">
          <div class="form-row-page">
            <div class="form-group-page">
              <label>User Type <span class="required">*</span></label>
              <select required>
                <option value="">Select User Type</option>
                <option value="student">Student</option>
                <option value="teacher">Teacher</option>
                <option value="staff">Staff</option>
                <option value="worker">Worker</option>
              </select>
            </div>

            <div class="form-group-page">
              <label>Your Name <span class="required">*</span></label>
              <input type="text" placeholder="Enter your full name" required>
            </div>
          </div>

          <div class="form-group-page">
            <label>Item Name <span class="required">*</span></label>
            <input type="text" placeholder="e.g., Blue Backpack, iPhone 13, Black Wallet" required>
          </div>

          <div class="form-group-page">
            <label>Item Category <span class="required">*</span></label>
            <select required>
              <option value="">Select Category</option>
              <option value="electronics">Electronics</option>
              <option value="accessories">Accessories</option>
              <option value="documents">Documents & ID Cards</option>
              <option value="clothing">Clothing & Bags</option>
              <option value="books">Books & Stationery</option>
              <option value="keys">Keys & Cards</option>
              <option value="jewelry">Jewelry & Watches</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group-page">
            <label>Description <span class="required">*</span></label>
            <textarea rows="4" placeholder="Provide detailed description (color, brand, size, unique features, condition, etc.)" required></textarea>
          </div>

          <div class="form-row-page">
            <div class="form-group-page">
              <label>Location Where Found <span class="required">*</span></label>
              <input type="text" placeholder="e.g., Library, Room 101, Parking Lot" required>
            </div>

            <div class="form-group-page">
              <label>Date Found</label>
              <input type="date" max="2025-11-02">
            </div>
          </div>

          <div class="form-group-page">
            <label>Contact Email <span class="required">*</span></label>
            <input type="email" placeholder="your.email@example.com" required>
          </div>

          <div class="form-group-page">
            <label>Upload Item Image <span class="required">*</span></label>
            <div class="upload-box" onclick="document.getElementById('foundItemImage').click()">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
              </svg>
              <p>Click to upload image of the found item</p>
              <span>PNG, JPG, JPEG up to 5MB (Required for found items)</span>
            </div>
            <input type="file" id="foundItemImage" accept="image/*" style="display: none;" onchange="handlePageImageUpload(this, 'foundImagePreview')" required>
            <div id="foundImagePreview" class="page-image-preview"></div>
          </div>

          <button type="submit" class="btn-page-submit">Submit Found Item Report</button>
        </form>
      </div>

      <div class="items-display-section">
        <h3>Recently Reported Found Items</h3>
        <div class="items-grid" id="foundItemsGrid">
          <p class="no-items-text">No found items reported yet. Be the first to report!</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Match Items Section -->
  <section class="match-section" id="match">
    <div class="container">
      <div class="section-header-custom">
        <h2>Match Items</h2>
        <p>Find matches between lost and found items using AI matching</p>
      </div>

      <div class="form-container-page">
        <form class="page-form" onsubmit="handleMatchItemSubmit(event)">
          <div class="form-row-page">
            <div class="form-group-page">
              <label>User Type <span class="required">*</span></label>
              <select required>
                <option value="">Select User Type</option>
                <option value="student">Student</option>
                <option value="teacher">Teacher</option>
                <option value="staff">Staff</option>
                <option value="worker">Worker</option>
              </select>
            </div>

            <div class="form-group-page">
              <label>Your Name <span class="required">*</span></label>
              <input type="text" placeholder="Enter your full name" required>
            </div>
          </div>

          <div class="form-group-page">
            <label>Item Name <span class="required">*</span></label>
            <input type="text" placeholder="Name of the item you're looking for" required>
          </div>

          <div class="form-group-page">
            <label>Item Category <span class="required">*</span></label>
            <select required>
              <option value="">Select Category</option>
              <option value="electronics">Electronics</option>
              <option value="accessories">Accessories</option>
              <option value="documents">Documents & ID Cards</option>
              <option value="clothing">Clothing & Bags</option>
              <option value="books">Books & Stationery</option>
              <option value="keys">Keys & Cards</option>
              <option value="jewelry">Jewelry & Watches</option>
              <option value="other">Other</option>
            </select>
          </div>

          <div class="form-group-page">
            <label>Description <span class="required">*</span></label>
            <textarea rows="4" placeholder="Describe the item in detail (color, brand, size, unique features, etc.)" required></textarea>
          </div>

          <div class="form-group-page">
            <label>Upload Reference Image <span class="required">*</span></label>
            <div class="upload-box" onclick="document.getElementById('matchItemImage').click()">
              <svg width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"></rect>
                <circle cx="8.5" cy="8.5" r="1.5"></circle>
                <polyline points="21 15 16 10 5 21"></polyline>
              </svg>
              <p>Upload an image for better matching</p>
              <span>PNG, JPG, JPEG up to 5MB (Required for matching)</span>
            </div>
            <input type="file" id="matchItemImage" accept="image/*" style="display: none;" onchange="handlePageImageUpload(this, 'matchImagePreview')" required>
            <div id="matchImagePreview" class="page-image-preview"></div>
          </div>

          <button type="submit" class="btn-page-submit">Find Matches</button>
        </form>
      </div>

      <div class="match-results-section" id="matchResultsSection" style="display: none;">
        <h3>Match Results</h3>
        <div class="match-results-grid" id="matchResultsGrid"></div>
      </div>
    </div>
  </section>

  <!-- Item Detail Modal -->
  <div id="itemDetailModal" class="item-detail-modal">
    <div class="item-detail-box">
      <button class="item-detail-close" onclick="closeItemDetail()">&times;</button>
      
      <div id="itemDetailContent"></div>
    </div>
  </div>

  !-- Messages Section -->
  <section class="messages-section" id="messages">
    <div class="container">
      <div class="section-header-custom">
        <h2>Messages</h2>
        <p>Communicate securely about lost/found items</p>
      </div>

      <div class="messages-container">
        <div class="messages-sidebar">
          <div class="messages-header">
            <h3>Messages</h3>
            <button class="btn-new-message" onclick="alert('New Message')">
              <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                <line x1="12" y1="5" x2="12" y2="19"></line>
                <line x1="5" y1="12" x2="19" y2="12"></line>
              </svg>
            </button>
          </div>
          
          <div class="messages-list" id="messagesList">
            <div class="message-item">
              <div class="message-avatar">S</div>
              <div class="message-preview">
                <div class="message-preview-name">Sophia Bennett</div>
                <div class="message-preview-text">I've found a lost item near the library. Is it yours?</div>
              </div>
            </div>
            <div class="message-item">
              <div class="message-avatar">E</div>
              <div class="message-preview">
                <div class="message-preview-name">Ethan Carter</div>
                <div class="message-preview-text">Found near the library, black backpack with books</div>
              </div>
            </div>
            <div class="message-item">
              <div class="message-avatar">L</div>
              <div class="message-preview">
                <div class="message-preview-name">Liam Harper</div>
                <div class="message-preview-text">Wallet found near the cafeteria, contains ID</div>
              </div>
            </div>
            <div class="message-item">
              <div class="message-avatar">A</div>
              <div class="message-preview">
                <div class="message-preview-name">Ava Morgan</div>
                <div class="message-preview-text">I lost my blue water bottle in the gym</div>
              </div>
            </div>
          </div>
        </div>

        <div class="messages-chat" id="messagesChat">
          <div class="no-chat-selected">
            <svg width="80" height="80" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
              <path d="M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z"></path>
            </svg>
            <h3>Select a conversation</h3>
            <p>Choose a message from the left to start chatting</p>
          </div>
        </div>
      </div>
    </div>
  </section>
    <!-- Admin Panel Section -->
  <section class="admin-section" id="admin">
    <div class="container">
      <div class="section-header-custom">
        <h2>Admin Panel</h2>
        <p>Manage platform content and moderation</p>
      </div>

      <div class="admin-stats">
        <div class="admin-stat-card">
          <div class="admin-stat-number">24</div>
          <div class="admin-stat-label">Total Posts</div>
        </div>
        <div class="admin-stat-card" style="background: linear-gradient(135deg, #10b981, #059669)">
          <div class="admin-stat-number">18</div>
          <div class="admin-stat-label">Approved</div>
        </div>
        <div class="admin-stat-card" style="background: linear-gradient(135deg, #f59e0b, #d97706)">
          <div class="admin-stat-number">3</div>
          <div class="admin-stat-label">Flagged</div>
        </div>
        <div class="admin-stat-card" style="background: linear-gradient(135deg, #ef4444, #dc2626)">
          <div class="admin-stat-number">3</div>
          <div class="admin-stat-label">Pending</div>
        </div>
      </div>

      <div class="admin-tabs">
        <button class="admin-tab active" onclick="switchAdminTab('posts')">All Posts</button>
        <button class="admin-tab" onclick="switchAdminTab('flagged')">Flagged Content</button>
      </div>

      <div class="admin-content">
        <!-- Posts Tab -->
        <div id="admin-posts-tab">
          <div class="admin-search">
            <input type="text" placeholder="Search posts..." onkeyup="searchAdminPosts(this.value)">
          </div>

          <div id="adminPostsList">
            <div class="admin-post-item">
              <div class="admin-post-image">📚</div>
              <div class="admin-post-details">
                <div class="admin-post-title">Lost textbook</div>
                <div class="admin-post-meta">Posted by Alex Chen • 2 hours ago • Lost Item</div>
                <div class="admin-post-description">Blue calculus textbook left in the library study room 3B. Has my name written inside.</div>
              </div>
              <div class="admin-post-actions">
                <button class="admin-btn admin-btn-approve" onclick="approvePost(this, 'Lost textbook')">
                  ✓ Approve
                </button>
                <button class="admin-btn admin-btn-edit" onclick="editPost('Lost textbook')">
                  ✎ Edit
                </button>
                <button class="admin-btn admin-btn-delete" onclick="deletePost(this, 'Lost textbook')">
                  ✕ Delete
                </button>
              </div>
            </div>

            <div class="admin-post-item">
              <div class="admin-post-image">🚲</div>
              <div class="admin-post-details">
                <div class="admin-post-title">Selling bike</div>
                <div class="admin-post-meta">Posted by Sarah Lee • 5 hours ago • Found Item</div>
                <div class="admin-post-description">Mountain bike found near the parking lot. Blue color with some scratches.</div>
              </div>
              <div class="admin-post-actions">
                <button class="admin-btn admin-btn-approve" onclick="approvePost(this, 'Selling bike')">
                  ✓ Approve
                </button>
                <button class="admin-btn admin-btn-edit" onclick="editPost('Selling bike')">
                  ✎ Edit
                </button>
                <button class="admin-btn admin-btn-delete" onclick="deletePost(this, 'Selling bike')">
                  ✕ Delete
                </button>
              </div>
            </div>

            <div class="admin-post-item">
              <div class="admin-post-image">🏠</div>
              <div class="admin-post-details">
                <div class="admin-post-title">Looking for roommate</div>
                <div class="admin-post-meta">Posted by David Kim • 1 day ago • Lost Item</div>
                <div class="admin-post-description">Black wallet found in the main building hallway. Contains ID cards.</div>
              </div>
              <div class="admin-post-actions">
                <button class="admin-btn admin-btn-approve" onclick="approvePost(this, 'Looking for roommate')">
                  ✓ Approve
                </button>
                <button class="admin-btn admin-btn-edit" onclick="editPost('Looking for roommate')">
                  ✎ Edit
                </button>
                <button class="admin-btn admin-btn-delete" onclick="deletePost(this, 'Looking for roommate')">
                  ✕ Delete
                </button>
              </div>
            </div>

            <div class="admin-post-item">
              <div class="admin-post-image">💻</div>
              <div class="admin-post-details">
                <div class="admin-post-title">Lost Laptop Charger</div>
                <div class="admin-post-meta">Posted by Emma Wilson • 3 hours ago • Lost Item</div>
                <div class="admin-post-description">MacBook Pro charger left in computer lab C. White 85W adapter.</div>
              </div>
              <div class="admin-post-actions">
                <button class="admin-btn admin-btn-approve" onclick="approvePost(this, 'Lost Laptop Charger')">
                  ✓ Approve
                </button>
                <button class="admin-btn admin-btn-edit" onclick="editPost('Lost Laptop Charger')">
                  ✎ Edit
                </button>
                <button class="admin-btn admin-btn-delete" onclick="deletePost(this, 'Lost Laptop Charger')">
                  ✕ Delete
                </button>
              </div>
            </div>
          </div>
        </div>

        <!-- Flagged Tab -->
        <div id="admin-flagged-tab" style="display: none;">
          <div class="admin-search">
            <input type="text" placeholder="Search flagged posts...">
          </div>

          <div id="adminFlaggedList">
            <div class="admin-post-item flagged">
              <div class="admin-post-image">⚠️</div>
              <div class="admin-post-details">
                <div class="admin-post-title">Suspicious Item Sale</div>
                <div class="admin-post-meta">Posted by Unknown User • 6 hours ago • Found Item</div>
                <div class="flag-badge">
                  🚩 Flagged by 3 users
                </div>
                <div class="admin-post-description">Selling expensive electronics at very low price. Multiple reports of spam content.</div>
              </div>
              <div class="admin-post-actions">
                <button class="admin-btn admin-btn-resolve" onclick="resolveFlag(this, 'Suspicious Item Sale')">
                  ✓ Resolve
                </button>
                <button class="admin-btn admin-btn-delete" onclick="deletePost(this, 'Suspicious Item Sale')">
                  ✕ Remove
                </button>
              </div>
            </div>

            <div class="admin-post-item flagged">
              <div class="admin-post-image">⚠️</div>
              <div class="admin-post-details">
                <div class="admin-post-title">Inappropriate Content</div>
                <div class="admin-post-meta">Posted by Jane Doe • 12 hours ago • Lost Item</div>
                <div class="flag-badge">
                  🚩 Flagged by 5 users
                </div>
                <div class="admin-post-description">Contains offensive language and inappropriate imagery. Violates community guidelines.</div>
              </div>
              <div class="admin-post-actions">
                <button class="admin-btn admin-btn-resolve" onclick="resolveFlag(this, 'Inappropriate Content')">
                  ✓ Resolve
                </button>
                <button class="admin-btn admin-btn-delete" onclick="deletePost(this, 'Inappropriate Content')">
                  ✕ Remove
                </button>
              </div>
            </div>

            <div class="admin-post-item flagged">
              <div class="admin-post-image">⚠️</div>
              <div class="admin-post-details">
                <div class="admin-post-title">Duplicate Post</div>
                <div class="admin-post-meta">Posted by John Smith • 1 day ago • Found Item</div>
                <div class="flag-badge">
                  🚩 Flagged by 2 users
                </div>
                <div class="admin-post-description">Same item posted multiple times by different accounts. Possible spam.</div>
              </div>
              <div class="admin-post-actions">
                <button class="admin-btn admin-btn-resolve" onclick="resolveFlag(this, 'Duplicate Post')">
                  ✓ Resolve
                </button>
                <button class="admin-btn admin-btn-delete" onclick="deletePost(this, 'Duplicate Post')">
                  ✕ Remove
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Notifications Section -->
  <section class="notifications-section" id="notifications">
    <div class="container">
      <h2>Notifications</h2>
      <p>Stay updated with item match alerts and new reports.</p>
      <ul class="notification-list">
        <li>No new notifications yet.</li>
      </ul>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <p>&copy; 2025 Campus Tracker. All rights reserved.</p>
    </div>
  </footer>

  <script>
    // Smooth Scroll Function
    function scrollToSection(id) {
      document.getElementById(id).scrollIntoView({ behavior: "smooth" });
    }

    // Mobile Menu Toggle
    document.getElementById('mobileMenuBtn').addEventListener('click', () => {
      document.querySelector('.nav-links').classList.toggle('active');
    });

    // Open Modal Function
    function openModal(modalId) {
      event.preventDefault();
      document.getElementById(modalId).classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    // Close Modal Function
    function closeModal(modalId) {
      document.getElementById(modalId).classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Close modal when clicking outside
    document.querySelectorAll('.modal-overlay').forEach(modal => {
      modal.addEventListener('click', function(e) {
        if (e.target === this) {
          this.classList.remove('active');
          document.body.style.overflow = 'auto';
        }
      });
    });

    // Close modal with Escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        document.querySelectorAll('.modal-overlay.active').forEach(modal => {
          modal.classList.remove('active');
          document.body.style.overflow = 'auto';
        });
      }
    });

    // Modal Image Upload Handler
    function handleModalImageUpload(input) {
      const preview = document.getElementById('modalImagePreview');
      const file = input.files[0];

      if (file) {
        const reader = new FileReader();
        
        reader.onload = function(e) {
          preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
          preview.classList.add('active');
        };
        
        reader.readAsDataURL(file);
      }
    }

    // Page Image Upload Handler
    function handlePageImageUpload(input, previewId) {
      const preview = document.getElementById(previewId);
      const file = input.files[0];

      if (file) {
        // Check file size (5MB limit)
        if (file.size > 5 * 1024 * 1024) {
          alert('File size must be less than 5MB');
          input.value = '';
          return;
        }

        const reader = new FileReader();
        
        reader.onload = function(e) {
          preview.innerHTML = `<img src="${e.target.result}" alt="Preview">`;
          preview.classList.add('active');
        };
        
        reader.readAsDataURL(file);
      }
    }

    // Lost Item Form Submit
    function handleLostItemSubmit(event) {
      event.preventDefault();
      
      // Get form data
      const form = event.target;
      const userType = form.querySelector('select').value;
      const userName = form.querySelectorAll('input[type="text"]')[0].value;
      const itemName = form.querySelectorAll('input[type="text"]')[1].value;
      const category = form.querySelectorAll('select')[1].value;
      const description = form.querySelector('textarea').value;
      const location = form.querySelectorAll('input[type="text"]')[2].value;
      const date = form.querySelector('input[type="date"]').value || new Date().toLocaleDateString();
      const email = form.querySelector('input[type="email"]').value;
      const imageInput = document.getElementById('lostItemImage');
      
      // Validate email
      if (!validateEmail(email)) {
        showNotification('Invalid email address. Please check and try again.', 'error');
        return;
      }
      
      // Get image if uploaded
      let imageData = null;
      if (imageInput.files && imageInput.files.length > 0) {
        const reader = new FileReader();
        reader.onload = function(e) {
          imageData = e.target.result;
          addLostItem({
            userType,
            userName,
            itemName,
            category,
            description,
            location,
            date,
            email,
            image: imageData
          });
        };
        reader.readAsDataURL(imageInput.files[0]);
      } else {
        addLostItem({
          userType,
          userName,
          itemName,
          category,
          description,
          location,
          date,
          email,
          image: null
        });
      }
      
      showNotification('Lost item report submitted successfully! You will be notified if a match is found.', 'success');
      form.reset();
      document.getElementById('lostImagePreview').classList.remove('active');
      document.getElementById('lostImagePreview').innerHTML = '';
    }

    // Found Item Form Submit
    function handleFoundItemSubmit(event) {
      event.preventDefault();
      
      // Get form data
      const form = event.target;
      const userType = form.querySelector('select').value;
      const userName = form.querySelectorAll('input[type="text"]')[0].value;
      const itemName = form.querySelectorAll('input[type="text"]')[1].value;
      const category = form.querySelectorAll('select')[1].value;
      const description = form.querySelector('textarea').value;
      const location = form.querySelectorAll('input[type="text"]')[2].value;
      const date = form.querySelector('input[type="date"]').value || new Date().toLocaleDateString();
      const email = form.querySelector('input[type="email"]').value;
      const imageInput = document.getElementById('foundItemImage');
      
      // Check if image is uploaded (required for found items)
      if (!imageInput.files || imageInput.files.length === 0) {
        showNotification('Please upload an image of the found item.', 'error');
        return;
      }
      
      // Validate email
      if (!validateEmail(email)) {
        showNotification('Invalid email address. Please check and try again.', 'error');
        return;
      }
      
      // Read image
      const reader = new FileReader();
      reader.onload = function(e) {
        addFoundItem({
          userType,
          userName,
          itemName,
          category,
          description,
          location,
          date,
          email,
          image: e.target.result
        });
      };
      reader.readAsDataURL(imageInput.files[0]);
      
      showNotification('Found item report submitted successfully! The owner will be notified if we find a match.', 'success');
      form.reset();
      document.getElementById('foundImagePreview').classList.remove('active');
      document.getElementById('foundImagePreview').innerHTML = '';
    }

    // Add Lost Item to Display
    function addLostItem(item) {
      const grid = document.getElementById('lostItemsGrid');
      
      // Remove "no items" message if exists
      const noItemsText = grid.querySelector('.no-items-text');
      if (noItemsText) {
        noItemsText.remove();
      }
      
      // Create item card
      const card = document.createElement('div');
      card.className = 'item-card';
      card.onclick = () => showItemDetail(item, 'lost');
      
      const imageHTML = item.image 
        ? `<div class="item-card-image"><img src="${item.image}" alt="${item.itemName}"></div>`
        : `<div class="item-card-placeholder">📦</div>`;
      
      card.innerHTML = `
        ${imageHTML}
        <div class="item-card-content">
          <div class="item-card-header">
            <div>
              <h4 class="item-card-title">${item.itemName}</h4>
              <span class="item-card-category">${item.category}</span>
            </div>
            <span class="item-card-badge badge-lost">Lost</span>
          </div>
          <div class="item-card-user"><strong>Reported by:</strong> ${item.userName} (${item.userType})</div>
          <div class="item-card-location">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            ${item.location}
          </div>
          <div class="item-card-date">Reported: ${item.date}</div>
        </div>
      `;
      
      grid.insertBefore(card, grid.firstChild);
    }

    // Add Found Item to Display
    function addFoundItem(item) {
      const grid = document.getElementById('foundItemsGrid');
      
      // Remove "no items" message if exists
      const noItemsText = grid.querySelector('.no-items-text');
      if (noItemsText) {
        noItemsText.remove();
      }
      
      // Create item card
      const card = document.createElement('div');
      card.className = 'item-card';
      card.onclick = () => showItemDetail(item, 'found');
      
      card.innerHTML = `
        <div class="item-card-image"><img src="${item.image}" alt="${item.itemName}"></div>
        <div class="item-card-content">
          <div class="item-card-header">
            <div>
              <h4 class="item-card-title">${item.itemName}</h4>
              <span class="item-card-category">${item.category}</span>
            </div>
            <span class="item-card-badge badge-found">Found</span>
          </div>
          <div class="item-card-user"><strong>Found by:</strong> ${item.userName} (${item.userType})</div>
          <div class="item-card-location">
            <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
              <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"></path>
              <circle cx="12" cy="10" r="3"></circle>
            </svg>
            ${item.location}
          </div>
          <div class="item-card-date">Found: ${item.date}</div>
        </div>
      `;
      
      grid.insertBefore(card, grid.firstChild);
    }

    // Show Item Detail Modal
    function showItemDetail(item, type) {
      const modal = document.getElementById('itemDetailModal');
      const content = document.getElementById('itemDetailContent');
      
      const imageHTML = item.image 
        ? `<div class="item-detail-image"><img src="${item.image}" alt="${item.itemName}"></div>`
        : `<div class="item-card-placeholder" style="height: 400px; font-size: 6rem;">📦</div>`;
      
      const badgeClass = type === 'lost' ? 'badge-lost' : 'badge-found';
      const badgeText = type === 'lost' ? 'Lost' : 'Found';
      
      content.innerHTML = `
        ${imageHTML}
        <div class="item-detail-content">
          <div class="item-detail-header">
            <h2 class="item-detail-title">${item.itemName}</h2>
            <span class="item-card-badge ${badgeClass}">${badgeText}</span>
          </div>
          
          <div class="item-detail-section">
            <span class="item-card-category">${item.category}</span>
          </div>
          
          <div class="item-detail-section">
            <h3>Description</h3>
            <p>${item.description}</p>
          </div>
          
          <div class="item-detail-info-grid">
            <div class="item-detail-info-item">
              <label>${type === 'lost' ? 'Lost at' : 'Found at'}</label>
              <strong>${item.location}</strong>
            </div>
            <div class="item-detail-info-item">
              <label>Date</label>
              <strong>${item.date}</strong>
            </div>
            <div class="item-detail-info-item">
              <label>${type === 'lost' ? 'Reported by' : 'Found by'}</label>
              <strong>${item.userName}</strong>
            </div>
            <div class="item-detail-info-item">
              <label>User Type</label>
              <strong>${item.userType.charAt(0).toUpperCase() + item.userType.slice(1)}</strong>
            </div>
          </div>
          
          <button class="item-detail-contact-btn" onclick="contactPerson('${item.email}')">
            Contact via Email: ${item.email}
          </button>
        </div>
      `;
      
      modal.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    // Close Item Detail Modal
    function closeItemDetail() {
      const modal = document.getElementById('itemDetailModal');
      modal.classList.remove('active');
      document.body.style.overflow = 'auto';
    }

    // Contact Person
    function contactPerson(email) {
      window.location.href = `mailto:${email}`;
    }

    // Close detail modal when clicking outside
    document.getElementById('itemDetailModal').addEventListener('click', function(e) {
      if (e.target === this) {
        closeItemDetail();
      }
    });

    // Match Item Form Submit with Demo Results
    function handleMatchItemSubmit(event) {
      event.preventDefault();
      
      // Check if image is uploaded
      const imageInput = document.getElementById('matchItemImage');
      
      if (!imageInput.files || imageInput.files.length === 0) {
        showNotification('Please upload an image for better matching results.', 'error');
        return;
      }
      
      showNotification('Match search completed successfully! Found potential matches.', 'success');
      
      // Show results section
      const resultsSection = document.getElementById('matchResultsSection');
      resultsSection.style.display = 'block';
      
      // Generate demo match results
      const matchResults = [
        {
          percentage: 95,
          name: 'Blue Backpack',
          description: 'Navy blue backpack with laptop compartment, found in Library',
          location: 'Library - 2nd Floor',
          date: 'October 28, 2025',
          contact: 'finder@campus.edu'
        },

        {
          percentage: 100,
          name: 'VIVO Y100',
          description: 'Near Amol canteen near building 4 CSE department',
          location: 'Library - 2nd Floor',
          date: 'October 28, 2025',
          contact: 'finder@campus.edu'
        },

        {
          percentage: 78,
          name: 'Dark Blue Bag',
          description: 'Dark blue bag with multiple pockets, found near cafeteria',
          location: 'Cafeteria Area',
          date: 'October 30, 2025',
          contact: 'student@campus.edu'
        },
        {
          percentage: 62,
          name: 'Blue Sports Bag',
          description: 'Blue sports duffel bag, found in gym locker room',
          location: 'Gym - Locker Room',
          date: 'November 1, 2025',
          contact: 'staff@campus.edu'
        }
      ];

      // Display results
      const resultsGrid = document.getElementById('matchResultsGrid');
      resultsGrid.innerHTML = matchResults.map(item => `
        <div class="match-card">
          <div class="match-percentage">${item.percentage}% Match</div>
          <div class="match-content">
            <h4 class="match-title">${item.name}</h4>
            <p class="match-description">${item.description}</p>
            <div class="match-details">
              <div class="match-detail-item"><strong>Location:</strong> ${item.location}</div>
              <div class="match-detail-item"><strong>Date Found:</strong> ${item.date}</div>
              <div class="match-detail-item"><strong>Contact:</strong> ${item.contact}</div>
            </div>
          </div>
        </div>
      `).join('');

      // Scroll to results
      setTimeout(() => {
        resultsSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
      }, 500);
    }

    // Login Handler
    function handleLogin(event) {
      event.preventDefault();
      
      const email = document.getElementById('loginEmail').value;
      const password = document.getElementById('loginPassword').value;
      
      // Simple validation
      if (!validateEmail(email)) {
        showNotification('Invalid email address. Please check and try again.', 'error');
        return;
      }
      
      if (password.length < 6) {
        showNotification('Invalid password. Password must be at least 6 characters.', 'error');
        return;
      }
      
      // Demo: Check for specific credentials (in real app, this would be server-side)
      if (email === 'demo@campus.edu' && password === 'demo123') {
        showNotification('Login successful! Welcome back.', 'success');
        closeModal('loginModal');
        // Reset form
        event.target.reset();
      } else {
        showNotification('Invalid email or password. Please try again.', 'error');
      }
    }

    // Signup Handler
    function handleSignup(event) {
      event.preventDefault();
      
      const name = document.getElementById('signupName').value;
      const email = document.getElementById('signupEmail').value;
      const password = document.getElementById('signupPassword').value;
      
      // Validation
      if (name.length < 3) {
        showNotification('Name must be at least 3 characters long.', 'error');
        return;
      }
      
      if (!validateEmail(email)) {
        showNotification('Invalid email address. Please use a valid email.', 'error');
        return;
      }
      
      if (password.length < 6) {
        showNotification('Password must be at least 6 characters long.', 'error');
        return;
      }
      
      // Check if email already exists (demo check)
      if (email === 'demo@campus.edu') {
        showNotification('Email already registered. Please use a different email or login.', 'error');
        return;
      }
      
      // Success
      showNotification('Signup successful! Your account has been created.', 'success');
      closeModal('signupModal');
      event.target.reset();
    }

    

    // Registration Handler
    function handleRegistration(event) {
      event.preventDefault();
      
      const name = document.getElementById('regName').value;
      const email = document.getElementById('regEmail').value;
      const id = document.getElementById('regID').value;
      
      // Validation
      if (name.length < 3) {
        showNotification('Name must be at least 3 characters long.', 'error');
        return;
      }
      
      if (!validateEmail(email)) {
        showNotification('Invalid campus email address.', 'error');
        return;
      }
      
      if (!email.includes('@campus.edu')) {
        showNotification('Please use your official campus email address.', 'error');
        return;
      }
      
      if (id.length < 5) {
        showNotification('Invalid Student/Employee ID.', 'error');
        return;
      }
      
      // Success
      showNotification('Registration successful! Your account has been registered.', 'success');
      closeModal('registrationModal');
      event.target.reset();
    }

    // Report Item Handler
    function handleReportSubmit(event) {
      event.preventDefault();
      
      const itemType = document.getElementById('reportItemType').value;
      const category = document.getElementById('reportCategory').value;
      const email = document.getElementById('reportEmail').value;
      
      // Validation
      if (!itemType) {
        showNotification('Please select item type (Lost or Found).', 'error');
        return;
      }
      
      if (!category) {
        showNotification('Please select item category.', 'error');
        return;
      }
      
      if (!validateEmail(email)) {
        showNotification('Invalid email address. Please check and try again.', 'error');
        return;
      }
      
      // Success
      showNotification(`${itemType.charAt(0).toUpperCase() + itemType.slice(1)} item report submitted successfully!`, 'success');
      closeModal('reportModal');
      event.target.reset();
      document.getElementById('modalImagePreview').classList.remove('active');
      document.getElementById('modalImagePreview').innerHTML = '';
    }

    // Email Validation Helper
    function validateEmail(email) {
      const re = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      return re.test(email);
    }

   // Show notification
    function showNotification(message, type) {
      const notification = document.createElement('div');
      notification.className = `notification-toast ${type}`;
      notification.textContent = message;
      document.body.appendChild(notification);
      setTimeout(() => notification.remove(), 4000);
    }

    // Example: Click on message item to show chat
    document.querySelectorAll('.message-item').forEach(item => {
      item.addEventListener('click', function() {
        const name = this.querySelector('.message-preview-name').textContent;
        const avatar = this.querySelector('.message-avatar').textContent;
        const initialMessage = this.querySelector('.message-preview-text').textContent;
        
        document.getElementById('messagesChat').innerHTML = `
          <div class="chat-header">
            <div class="chat-header-info">
              <div class="message-avatar">${avatar}</div>
              <div>
                <div style="font-weight:600; font-size:1.1rem">${name}</div>
                <div style="font-size:0.875rem; color:#6b7280">Active now</div>
              </div>
            </div>
            <div style="display:flex; gap:0.5rem">
              <button onclick="shareContactInfo('${name}')" style="padding:0.5rem 1rem; background:#2195d7; color:white; border:none; border-radius:8px; cursor:pointer; font-size:0.875rem">
                Share Contact
              </button>
            </div>
          </div>
          
          <div class="privacy-notice">
            <strong>🔒 Privacy Protected:</strong> Your personal contact information (email, phone) is masked unless you choose to share it. You can share your contact details when ready to meet.
          </div>
          
          <div class="chat-messages" id="chatMessagesArea">
            <div class="chat-message">
              <div class="message-avatar">${avatar}</div>
              <div class="chat-message-bubble">
                <div>${initialMessage}</div>
              </div>
            </div>
            <div class="chat-message sent">
              <div class="message-avatar">Y</div>
              <div class="chat-message-bubble">
                <div>Hi! Can you provide more details about the item?</div>
              </div>
            </div>
            <div class="chat-message">
              <div class="message-avatar">${avatar}</div>
              <div class="chat-message-bubble">
                <div>Sure! It's a black backpack with a laptop compartment and some textbooks inside.</div>
              </div>
            </div>
            <div class="chat-message sent">
              <div class="message-avatar">Y</div>
              <div class="chat-message-bubble">
                <div>That sounds like mine! Where can we meet to get it?</div>
              </div>
            </div>
          </div>
          
          <div class="chat-input-area">
            <div class="chat-input-container">
              <input type="text" class="chat-input" id="messageInput" placeholder="Type your message..." onkeypress="handleEnterKey(event, '${avatar}', '${name}')">
              <button class="btn-send-message" onclick="sendMessage('${avatar}', '${name}')">
                <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                  <line x1="22" y1="2" x2="11" y2="13"></line>
                  <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
                Send
              </button>
            </div>
          </div>
        `;
        
        // Scroll to bottom
        setTimeout(() => {
          const chatArea = document.getElementById('chatMessagesArea');
          if(chatArea) chatArea.scrollTop = chatArea.scrollHeight;
        }, 100);
      });
    });

    // Send message function
    function sendMessage(avatar, name) {
      const input = document.getElementById('messageInput');
      const message = input.value.trim();
      
      if (!message) return;
      
      const chatArea = document.getElementById('chatMessagesArea');
      const messageEl = document.createElement('div');
      messageEl.className = 'chat-message sent';
      messageEl.innerHTML = `
        <div class="message-avatar">Y</div>
        <div class="chat-message-bubble">
          <div>${message}</div>
        </div>
      `;
      
      chatArea.appendChild(messageEl);
      input.value = '';
      chatArea.scrollTop = chatArea.scrollHeight;
      
      // Auto-reply after 2 seconds
      setTimeout(() => {
        autoReply(avatar, message, chatArea);
      }, 2000);
    }

    // Handle Enter key
    function handleEnterKey(event, avatar, name) {
      if (event.key === 'Enter') {
        sendMessage(avatar, name);
      }
    }

    // Auto-reply function
    function autoReply(avatar, userMessage, chatArea) {
      let reply = '';
      const lowerMsg = userMessage.toLowerCase();
      
      if (lowerMsg.includes('meet') || lowerMsg.includes('where')) {
        reply = "We can meet at the library entrance tomorrow at 3 PM. Would that work for you?";
      } else if (lowerMsg.includes('yes') || lowerMsg.includes('sure') || lowerMsg.includes('okay') || lowerMsg.includes('ok')) {
        reply = "Great! I'll share my contact details. My email is: student@campus.edu. See you there!";
      } else if (lowerMsg.includes('contact') || lowerMsg.includes('phone') || lowerMsg.includes('email')) {
        reply = "Sure! You can reach me at: student@campus.edu or call me at (555) 123-4567";
      } else if (lowerMsg.includes('time')) {
        reply = "I'm available between 2 PM - 5 PM on weekdays. What time works best for you?";
      } else if (lowerMsg.includes('describe') || lowerMsg.includes('details') || lowerMsg.includes('look')) {
        reply = "It has a brand label on the front pocket and a water bottle holder on the side. Does this match your item?";
      } else if (lowerMsg.includes('thank')) {
        reply = "You're welcome! Happy to help reunite you with your item. 😊";
      } else {
        const replies = [
          "Yes, that's correct. When would you like to pick it up?",
          "I can meet you at the campus center if that's convenient for you.",
          "Let me know if you need any more information!",
          "Sure, I'm happy to help. What else would you like to know?"
        ];
        reply = replies[Math.floor(Math.random() * replies.length)];
      }
      
      const replyEl = document.createElement('div');
      replyEl.className = 'chat-message';
      replyEl.innerHTML = `
        <div class="message-avatar">${avatar}</div>
        <div class="chat-message-bubble">
          <div>${reply}</div>
        </div>
      `;
      
      chatArea.appendChild(replyEl);
      chatArea.scrollTop = chatArea.scrollHeight;
    }

    // Share contact info function
    function shareContactInfo(name) {
      if (confirm(`Share your contact information with ${name}?\n\nThis will reveal your email and phone number.`)) {
        const chatArea = document.getElementById('chatMessagesArea');
        const contactEl = document.createElement('div');
        contactEl.className = 'chat-message sent';
        contactEl.innerHTML = `
          <div class="message-avatar">Y</div>
          <div class="chat-message-bubble">
            <div><strong>📧 My Contact Info:</strong><br>
            Email: yourname@campus.edu<br>
            Phone: (555) 987-6543<br>
            Feel free to reach out!</div>
          </div>
        `;
        chatArea.appendChild(contactEl);
        chatArea.scrollTop = chatArea.scrollHeight;
        
        showNotification('Contact information shared successfully!', 'success');
        
        // Auto-reply
        setTimeout(() => {
          const replyEl = document.createElement('div');
          replyEl.className = 'chat-message';
          replyEl.innerHTML = `
            <div class="message-avatar">${name.charAt(0)}</div>
            <div class="chat-message-bubble">
              <div>Thank you! I've saved your contact info. I'll reach out to arrange the pickup. 👍</div>
            </div>
          `;
          chatArea.appendChild(replyEl);
          chatArea.scrollTop = chatArea.scrollHeight;
        }, 2000);
      }
    }


    // ADMIN PANEL FUNCTIONS //
    
    // Switch Admin Tabs
    function switchAdminTab(tab) {
      // Remove active class from all tabs
      document.querySelectorAll('.admin-tab').forEach(t => t.classList.remove('active'));
      event.target.classList.add('active');
      
      // Hide all tab contents
      document.getElementById('admin-posts-tab').style.display = 'none';
      document.getElementById('admin-flagged-tab').style.display = 'none';
      
      // Show selected tab
      if (tab === 'posts') {
        document.getElementById('admin-posts-tab').style.display = 'block';
      } else if (tab === 'flagged') {
        document.getElementById('admin-flagged-tab').style.display = 'block';
      }
    }

    // Approve Post
    function approvePost(button, postName) {
      if (confirm(`Approve post: "${postName}"?`)) {
        const postItem = button.closest('.admin-post-item');
        postItem.style.background = '#d1fae5';
        button.textContent = '✓ Approved';
        button.disabled = true;
        button.style.opacity = '0.6';
        showNotification(`Post "${postName}" approved successfully!`, 'success');
      }
    }

    // Edit Post
    function editPost(postName) {
      const newTitle = prompt(`Edit post title:`, postName);
      if (newTitle && newTitle !== postName) {
        showNotification(`Post updated to "${newTitle}"`, 'success');
      }
    }

    // Delete Post
    function deletePost(button, postName) {
      if (confirm(`Are you sure you want to delete the post: "${postName}"?\n\nThis action cannot be undone.`)) {
        const postItem = button.closest('.admin-post-item');
        postItem.style.transition = 'all 0.3s';
        postItem.style.opacity = '0';
        postItem.style.transform = 'translateX(-100%)';
        
        setTimeout(() => {
          postItem.remove();
          showNotification(`Post "${postName}" deleted successfully!`, 'success');
          
          // Update stats
          updateAdminStats();
        }, 300);
      }
    }

    // Resolve Flag
    function resolveFlag(button, postName) {
      const action = confirm(`Resolve flag for "${postName}"?\n\nClick OK to mark as resolved (keep post)\nClick Cancel to view details`);
      
      if (action) {
        const postItem = button.closest('.admin-post-item');
        postItem.classList.remove('flagged');
        postItem.style.background = '#d1fae5';
        button.textContent = '✓ Resolved';
        button.disabled = true;
        button.style.opacity = '0.6';
        showNotification(`Flag resolved for "${postName}". Post remains active.`, 'success');
        
        // Remove from flagged list after animation
        setTimeout(() => {
          postItem.style.opacity = '0';
          setTimeout(() => postItem.remove(), 300);
          updateAdminStats();
        }, 1500);
      }
    }

    // Search Admin Posts
    function searchAdminPosts(query) {
      const posts = document.querySelectorAll('.admin-post-item');
      const lowerQuery = query.toLowerCase();
      
      posts.forEach(post => {
        const title = post.querySelector('.admin-post-title').textContent.toLowerCase();
        const description = post.querySelector('.admin-post-description').textContent.toLowerCase();
        const meta = post.querySelector('.admin-post-meta').textContent.toLowerCase();
        
        if (title.includes(lowerQuery) || description.includes(lowerQuery) || meta.includes(lowerQuery)) {
          post.style.display = 'flex';
        } else {
          post.style.display = 'none';
        }
      });
    }

    // Update Admin Stats
    function updateAdminStats() {
      const totalPosts = document.querySelectorAll('#adminPostsList .admin-post-item').length;
      const flaggedPosts = document.querySelectorAll('#adminFlaggedList .admin-post-item').length;
      
      document.querySelector('.admin-stat-card:nth-child(1) .admin-stat-number').textContent = totalPosts + flaggedPosts;
      document.querySelector('.admin-stat-card:nth-child(3) .admin-stat-number').textContent = flaggedPosts;
    }
  </script>

</body>
</html>